global:
  category: flash
  mode: flash

BaseExecMgr_setNative:
  module: flash32_20_0_0_228
  init: flash_init
  offsets:
    0x565123f2:
      # The BaseExecMgr::setNative method starts at 0x6d7900, however, it has
      # to process a flag in order to determine the real native address of the
      # method. We just await this computation before fetching it.
      offset: 0x705230
      stack: 4 8
      logging:
        - s method_name name
        - p offset offset
      pre: |
          const char *name = NULL;

          flash_string_t *name_ = flash_get_method_name(stk0);
          if(name_ != NULL) {
              name = name_->str;
          }

          uint32_t offset = flash_module_offset(stk1);

BaseExecMgr_setJit:
  module: flash32_20_0_0_228
  init: flash_init
  offsets:
    0x565123f2:
      offset: 0x7052b0
      stack: 4 8
      logging:
        - s method_name name
        - p address stk1
      pre: |
          const char *name = NULL;

          flash_string_t *name_ = flash_get_method_name(stk0);
          if(name_ != NULL) {
              name = name_->str;
          }
